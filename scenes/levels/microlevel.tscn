[gd_scene load_steps=107 format=3 uid="uid://20a4nwenb6bk"]

[ext_resource type="Script" uid="uid://clt4umcygnc73" path="res://scripts/ui/cutscene.gd" id="1_ql6yw"]
[ext_resource type="PackedScene" uid="uid://i1l77n8k2vbs" path="res://scenes/player.tscn" id="2_0rrht"]
[ext_resource type="Texture2D" uid="uid://bej0e87c8llti" path="res://assets/images/room_final_final.png" id="2_4hadc"]
[ext_resource type="Texture2D" uid="uid://cqbt2mebb5rro" path="res://assets/images/decor.png" id="3_2qbig"]
[ext_resource type="PackedScene" uid="uid://cl6s36krg6rpb" path="res://scenes/props/music_key.tscn" id="4_ui2ab"]
[ext_resource type="PackedScene" uid="uid://cag4ty2tywqe0" path="res://scenes/props/music_puzzle.tscn" id="5_q1y3u"]
[ext_resource type="PackedScene" uid="uid://dwg4kahwpqddq" path="res://scenes/ui/main_menu.tscn" id="5_ui2ab"]
[ext_resource type="PackedScene" uid="uid://dlc34kcsyiwli" path="res://scenes/props/fireplace.tscn" id="6_4psif"]
[ext_resource type="PackedScene" uid="uid://dddejuoy8amxk" path="res://scenes/props/lamp.tscn" id="6_q1y3u"]
[ext_resource type="PackedScene" uid="uid://dmwb4y3demkxp" path="res://scenes/props/matches.tscn" id="7_0x7r7"]
[ext_resource type="PackedScene" uid="uid://cqa63r0c6ooi6" path="res://scenes/props/firewood.tscn" id="8_t7v5p"]
[ext_resource type="PackedScene" uid="uid://d3r4jskvs8x0j" path="res://scenes/props/key.tscn" id="9_t7v5p"]
[ext_resource type="PackedScene" uid="uid://c7tcegynfsert" path="res://scenes/props/candle.tscn" id="11_p2pcn"]
[ext_resource type="PackedScene" uid="uid://5aysjs1fwdih" path="res://scenes/props/lock.tscn" id="12_3sdmp"]
[ext_resource type="Shader" uid="uid://834uwk1kh1fg" path="res://assets/shaders/candle.gdshader" id="13_tex4q"]
[ext_resource type="FontFile" uid="uid://dgo3t53sw2gy2" path="res://assets/fonts/Junicode.ttf" id="14_5qa6u"]
[ext_resource type="Script" uid="uid://bl5uldjmqbeg0" path="res://scripts/ui/cutscene_fadin_text.gd" id="15_5qa6u"]
[ext_resource type="PackedScene" uid="uid://dwg080ll0fk7" path="res://scenes/props/window2.tscn" id="18_4f2b1"]
[ext_resource type="Script" uid="uid://bwm3tpl4i4t36" path="res://scripts/ui/final_cutscene.gd" id="18_13oey"]
[ext_resource type="Script" uid="uid://bj72sstg6ewd6" path="res://scripts/ladder_cutscene.gd" id="23_8sm3x"]
[ext_resource type="Texture2D" uid="uid://ca1aqmp6s2ptk" path="res://assets/sprites/atlas/ladder_big.tres" id="23_35dfi"]
[ext_resource type="Texture2D" uid="uid://djcycjk8xt41l" path="res://assets/sprites/atlas/ladder_small.tres" id="23_c7o10"]
[ext_resource type="Texture2D" uid="uid://crenil64k002y" path="res://assets/sprites/atlas/ladder_medium.tres" id="24_8sm3x"]
[ext_resource type="Texture2D" uid="uid://bf1wlcq2kt7lj" path="res://assets/images/cutscene/zamok_0.tres" id="26_c5ku6"]
[ext_resource type="Texture2D" uid="uid://dlkp3ccirgs03" path="res://assets/images/cutscene/zamok_1.tres" id="27_1nbgv"]
[ext_resource type="Script" uid="uid://c4dwk715g7skb" path="res://scripts/snow_manager.gd" id="27_8pgdl"]
[ext_resource type="Texture2D" uid="uid://drnenmcy0k5ca" path="res://assets/sprites/atlas_snow/snow_12.tres" id="27_44426"]
[ext_resource type="Texture2D" uid="uid://xnavcf00t7e6" path="res://assets/sprites/atlas_snow/snow_11.tres" id="27_muj0h"]
[ext_resource type="Texture2D" uid="uid://dys3ig045bih2" path="res://assets/images/cutscene/8.png" id="28_4f2b1"]
[ext_resource type="Texture2D" uid="uid://dlnjm63ain16r" path="res://assets/sprites/atlas_snow/snow_10.tres" id="28_mjvsw"]
[ext_resource type="Texture2D" uid="uid://8aj4p1lbd7q0" path="res://assets/images/cutscene/zamok_2.tres" id="28_u3x7i"]
[ext_resource type="Texture2D" uid="uid://b7pqdcak0e21c" path="res://assets/images/гирлянда выкл.png" id="28_wgf40"]
[ext_resource type="Texture2D" uid="uid://dytff8d8en4fv" path="res://assets/images/cutscene/7.png" id="29_c5ku6"]
[ext_resource type="Texture2D" uid="uid://cvyqwhu6a5vh4" path="res://assets/images/гирлянда свет.png" id="29_q8148"]
[ext_resource type="Script" uid="uid://cfdga3qg15f6u" path="res://scripts/props/snow.gd" id="29_qoveh"]
[ext_resource type="Texture2D" uid="uid://dq5rfptcyn7p5" path="res://assets/images/cutscene/6.png" id="30_1nbgv"]
[ext_resource type="Texture2D" uid="uid://cj8pj6e8fl7ee" path="res://assets/sprites/atlas_snow/snow_15.tres" id="30_kqe1q"]
[ext_resource type="Texture2D" uid="uid://rl8pyapjrfgn" path="res://assets/sprites/atlas_snow/snow_8.tres" id="31_8pgdl"]
[ext_resource type="Texture2D" uid="uid://jre2nik2iirr" path="res://assets/images/cutscene/5.png" id="31_u3x7i"]
[ext_resource type="Texture2D" uid="uid://nxvguluw5yes" path="res://assets/sprites/atlas_snow/snow_5.tres" id="32_qoveh"]
[ext_resource type="Texture2D" uid="uid://tf400f8i5bqi" path="res://assets/images/cutscene/4.png" id="32_yohhn"]
[ext_resource type="Texture2D" uid="uid://dumfme2ygdbgy" path="res://assets/images/cutscene/3.png" id="33_e6cir"]
[ext_resource type="Texture2D" uid="uid://hh8syhc24bw" path="res://assets/sprites/atlas_snow/snow_6.tres" id="33_wgf40"]
[ext_resource type="Texture2D" uid="uid://bor7tf11d2ort" path="res://assets/images/cutscene/2.png" id="34_6da8u"]
[ext_resource type="Texture2D" uid="uid://dxomw8bqt2ha5" path="res://assets/sprites/atlas_snow/snow_14.tres" id="34_q8148"]
[ext_resource type="Texture2D" uid="uid://du6scfnff22bi" path="res://assets/images/cutscene/1.png" id="35_kbi6t"]
[ext_resource type="Texture2D" uid="uid://pp2n4qd82c3m" path="res://assets/sprites/atlas_snow/snow_17.tres" id="35_vrlke"]
[ext_resource type="Texture2D" uid="uid://dyljexq8duxe1" path="res://assets/sprites/atlas_snow/snow_16.tres" id="36_nr8hd"]
[ext_resource type="Texture2D" uid="uid://n1uwt20oohvy" path="res://assets/sprites/atlas_snow/snow_18.tres" id="37_qn3wp"]
[ext_resource type="Texture2D" uid="uid://bw21xt45lciy2" path="res://assets/sprites/atlas_snow/snow_19.tres" id="38_vj8sx"]
[ext_resource type="Texture2D" uid="uid://dj3by4svyge2x" path="res://assets/sprites/atlas_snow/snow_20.tres" id="39_4jcq5"]
[ext_resource type="Texture2D" uid="uid://1fxg8uvnpqi4" path="res://assets/sprites/atlas_snow/snow_7.tres" id="40_wkwk4"]
[ext_resource type="Texture2D" uid="uid://cb1qxbyeosjf8" path="res://assets/sprites/atlas_snow/snow_9.tres" id="41_cmqin"]
[ext_resource type="Texture2D" uid="uid://cgq3dl7m1p4qt" path="res://assets/images/доб гирлянда выкл.png" id="42_u3x7i"]
[ext_resource type="Texture2D" uid="uid://bqujynu54fvff" path="res://assets/images/доп гирлянда свет.png" id="43_yohhn"]
[ext_resource type="Script" uid="uid://bgahe0lrqtw36" path="res://scripts/girlanda.gd" id="44_yohhn"]
[ext_resource type="Texture2D" uid="uid://075ydffrfqjp" path="res://assets/images/window_backround/месяц.png" id="47_vj8sx"]
[ext_resource type="Texture2D" uid="uid://bs1mhvyckn83a" path="res://assets/images/window_backround/небо.png" id="48_4jcq5"]
[ext_resource type="Texture2D" uid="uid://duhdtit5raqe1" path="res://assets/images/window_backround/облака.png" id="49_wkwk4"]
[ext_resource type="Texture2D" uid="uid://d3p0ukx7iivmv" path="res://assets/images/window_backround/2 план.png" id="50_cmqin"]
[ext_resource type="Texture2D" uid="uid://bcdybxgf7xmw2" path="res://assets/images/window_backround/1 план.png" id="51_rij7s"]
[ext_resource type="Texture2D" uid="uid://bmbyc2tisbe5v" path="res://assets/images/доп лёд для гирлянды.png" id="61_e6cir"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_2r6g7"]
blend_mode = 1
light_mode = 1

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_3mfa6"]
light_mode = 1

[sub_resource type="Gradient" id="Gradient_ql6yw"]
interpolation_mode = 1
offsets = PackedFloat32Array(0, 0.5685484)
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_vxgch"]
gradient = SubResource("Gradient_ql6yw")
width = 128
height = 138
fill = 1
fill_from = Vector2(0.5252404, 0.4957265)

[sub_resource type="Curve" id="Curve_cjddn"]
_data = [Vector2(0.88333327, 0.9696969), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_13oey"]
curve = SubResource("Curve_cjddn")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_4mwer"]
lifetime_randomness = 0.11
particle_flag_disable_z = true
emission_shape_scale = Vector3(2.485, 2.335, 1)
emission_shape = 1
emission_sphere_radius = 37.85
angular_velocity_min = -1.6093254e-05
angular_velocity_max = -1.6093254e-05
orbit_velocity_min = -0.014999906
orbit_velocity_max = 0.030000096
radial_velocity_min = -2.2351742e-05
radial_velocity_max = -2.2351742e-05
gravity = Vector3(38.445, 98.825, 0)
linear_accel_min = -2.2351742e-06
linear_accel_max = -2.2351742e-06
radial_accel_min = -2.2351742e-06
radial_accel_max = 2.9899976
scale_min = 0.0
scale_max = 0.04
alpha_curve = SubResource("CurveTexture_13oey")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_224lv"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0x7r7"]
size = Vector2(39, 189)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_t7v5p"]
size = Vector2(37, 178)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4psif"]
size = Vector2(35, 162)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_pfbcd"]
size = Vector2(36, 152)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3sdmp"]
size = Vector2(36, 139)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_13psp"]
size = Vector2(34, 129)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tex4q"]
size = Vector2(35, 117)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5qa6u"]
size = Vector2(36, 106)

[sub_resource type="Gradient" id="Gradient_4f2b1"]
offsets = PackedFloat32Array(0, 0.34177214)
colors = PackedColorArray(1, 1, 1, 0, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_c5ku6"]
gradient = SubResource("Gradient_4f2b1")
fill = 1
fill_from = Vector2(0.509009, 0.536036)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ql6yw"]
shader = ExtResource("13_tex4q")
shader_parameter/blend_mode = 0

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_4f2b1"]
light_mode = 1

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_c5ku6"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_1nbgv"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_u3x7i"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_4f2b1"]

[sub_resource type="Animation" id="Animation_ql6yw"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../DirectionalLight2D:energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [16.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("begin_cutscene/narrative:self_modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("begin_cutscene/TextureRect:self_modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("begin_cutscene/TextureRect:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_5qa6u"]
resource_name = "start_game"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../DirectionalLight2D:energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(1.4, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [2.97, 0.92]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(5),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"play_game"
}]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("begin_cutscene/narrative:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 3.11),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("begin_cutscene/TextureRect:self_modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1.4333333),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("begin_cutscene/TextureRect:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_vxgch"]
_data = {
&"RESET": SubResource("Animation_ql6yw"),
&"start_game": SubResource("Animation_5qa6u")
}

[sub_resource type="Animation" id="Animation_35dfi"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasLayer/ending_cutscene/Images:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CanvasLayer/ending_cutscene/Images/TextureRect2:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CanvasLayer/ending_cutscene/Images/TextureRect3:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("CanvasLayer/ending_cutscene/narrative2:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 1078)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("CanvasLayer/ending_cutscene/ColorRect:color")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 0)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("CanvasLayer/ending_cutscene/Images:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_2qbig"]
resource_name = "win"
length = 40.0
tracks/0/type = "method"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasLayer/ending_cutscene")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(38.1),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"quit_game"
}]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CanvasLayer/ending_cutscene/Images:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(-0.19999999, 0.1, 1.6333333),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 0.027100384), Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CanvasLayer/ending_cutscene/Images/TextureRect2:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.1, 2.4766667),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("CanvasLayer/ending_cutscene/Images/TextureRect3:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.099999994, 4.0266666),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("CanvasLayer/ending_cutscene/narrative2:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(7.247033, 30),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 1078), Vector2(0, -1082)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("CanvasLayer/ending_cutscene/ColorRect:color")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0, 28.466667, 35.233334),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("CanvasLayer/ending_cutscene/Images:visible")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/7/type = "method"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath(".")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(7.233333),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"stop_music_on_ending"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_gv4x6"]
_data = {
&"RESET": SubResource("Animation_35dfi"),
&"win": SubResource("Animation_2qbig")
}

[sub_resource type="Animation" id="Animation_a1hpf"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("23_35dfi")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1471, 480.00003)]
}

[sub_resource type="AtlasTexture" id="AtlasTexture_p2pcn"]
atlas = ExtResource("23_c7o10")

[sub_resource type="AtlasTexture" id="AtlasTexture_muj0h"]
atlas = ExtResource("24_8sm3x")

[sub_resource type="AtlasTexture" id="AtlasTexture_mjvsw"]
atlas = ExtResource("23_35dfi")

[sub_resource type="Animation" id="Animation_c7o10"]
resource_name = "ladder_out"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Sprite2D:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1, 2),
"transitions": PackedFloat32Array(1e-05, 1, 1),
"update": 1,
"values": [SubResource("AtlasTexture_p2pcn"), SubResource("AtlasTexture_muj0h"), SubResource("AtlasTexture_mjvsw")]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Sprite2D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1, 2, 3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [Vector2(1430, 720), Vector2(1430, 650), Vector2(1430, 580), Vector2(1500, 470)]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../../zones/lock")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(),
"transitions": PackedFloat32Array(),
"values": []
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_8sm3x"]
_data = {
&"RESET": SubResource("Animation_a1hpf"),
&"ladder_out": SubResource("Animation_c7o10")
}

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_e6cir"]
light_mode = 1

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_1nbgv"]
light_mode = 1

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_6da8u"]
light_mode = 1

[sub_resource type="Gradient" id="Gradient_nr8hd"]
offsets = PackedFloat32Array(0, 0.7765958)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_qn3wp"]
gradient = SubResource("Gradient_nr8hd")
fill = 1
fill_from = Vector2(0.5, 0.47435898)
fill_to = Vector2(1, 0.43589744)

[sub_resource type="Animation" id="Animation_2r6g7"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Parallax2D/ГирляндаСвет:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0.4206093)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Node2D/red:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Node2D/red2:energy")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Node2D/green:energy")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Node2D/green2:energy")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Node2D/yelow:energy")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Node2D/yelow2:energy")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Node2D/violet:energy")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("Node2D/violet2:energy")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("ДопГирлянда/ДопГирляндаСвет:modulate")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("Parallax2D/ГирляндаСвет:visible")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_kbi6t"]
resource_name = "enable_girlanda"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Parallax2D/ГирляндаСвет:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0.30122736, 0.35729998, 0.4120686, 0.53725404, 0.719816, 0.8710817),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 0.5019608), Color(1, 1, 1, 0), Color(1, 1, 1, 0.74509805), Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Node2D/red:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.29209927, 0.359908, 0.40946057, 0.537254, 0.7250321, 0.87629783),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.5, 0.0, 0.7, 0.0, 1.14]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Node2D/red2:energy")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.29209927, 0.35208392, 0.40815657, 0.537254, 0.72764015, 0.87629783),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.5, 0.0, 0.7, 0.0, 1.14]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Node2D/green:energy")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.29209927, 0.358604, 0.40815657, 0.534646, 0.72764015, 0.8736898),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.5, 0.0, 0.7, 0.0, 1.14]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Node2D/green2:energy")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0.29209927, 0.35729998, 0.41337264, 0.538558, 0.73285615, 0.87760186),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.5, 0.0, 0.7, 0.0, 1.14]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("Node2D/yelow:energy")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0.29209927, 0.35599598, 0.40815657, 0.53986204, 0.72764015, 0.8789059),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.5, 0.0, 0.7, 0.0, 1.14]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Node2D/yelow2:energy")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0.29209927, 0.35338795, 0.40815657, 0.53595, 0.72764015, 0.8749938),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.5, 0.0, 0.7, 0.0, 1.14]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("Node2D/violet:energy")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0.29209927, 0.359908, 0.40946057, 0.538558, 0.7289442, 0.87760186),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.5, 0.0, 0.7, 0.0, 1.44]
}
tracks/8/type = "value"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("Node2D/violet2:energy")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"times": PackedFloat32Array(0.29209927, 0.35599598, 0.40685254, 0.53334194, 0.7263361, 0.87238574),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.5, 0.0, 0.7, 0.0, 1.51]
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("ДопГирлянда/ДопГирляндаСвет:modulate")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0.0078240875, 0.039120425, 0.06520072, 0.1160573, 0.13300948, 0.15517773, 0.17734598, 0.19429816, 0.24906678),
"transitions": PackedFloat32Array(1, 0.4061262, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0), Color(1, 1, 1, 0.34117648), Color(1, 1, 1, 0), Color(1, 1, 1, 0), Color(1, 1, 1, 0.5137255), Color(1, 1, 1, 0), Color(1, 1, 1, 0.76862746), Color(1, 1, 1, 0), Color(1, 1, 1, 1)]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("Parallax2D/ГирляндаСвет:visible")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3mfa6"]
_data = {
&"RESET": SubResource("Animation_2r6g7"),
&"enable_girlanda": SubResource("Animation_kbi6t")
}

[node name="microlevel" type="Node2D"]
metadata/_edit_vertical_guides_ = [911.0]
metadata/_edit_horizontal_guides_ = [574.0]

[node name="blizzard" type="CanvasLayer" parent="."]
layer = -1
follow_viewport_enabled = true

[node name="backroung_window2" type="Parallax2D" parent="blizzard"]
scale = Vector2(0.48844528, 0.48844528)
scroll_offset = Vector2(893, -26)

[node name="Parallax2D" type="Parallax2D" parent="blizzard/backroung_window2"]
scroll_scale = Vector2(0.95, 0.95)
scroll_offset = Vector2(571.52374, -84.70064)

[node name="Небо" type="Sprite2D" parent="blizzard/backroung_window2/Parallax2D"]
position = Vector2(-90.00012, 909)
texture = ExtResource("48_4jcq5")

[node name="Месяц" type="Sprite2D" parent="blizzard/backroung_window2/Parallax2D"]
material = SubResource("CanvasItemMaterial_2r6g7")
position = Vector2(-387.26553, 850.39545)
texture = ExtResource("47_vj8sx")

[node name="Parallax2D2" type="Parallax2D" parent="blizzard/backroung_window2"]
scroll_scale = Vector2(0.9, 0.9)
scroll_offset = Vector2(571.52374, -84.70064)

[node name="Облака" type="Sprite2D" parent="blizzard/backroung_window2/Parallax2D2"]
position = Vector2(-52.383057, 865.7503)
texture = ExtResource("49_wkwk4")

[node name="Parallax2D3" type="Parallax2D" parent="blizzard/backroung_window2"]
scroll_scale = Vector2(0.85, 0.85)
scroll_offset = Vector2(571.52374, -84.70064)

[node name="2План" type="Sprite2D" parent="blizzard/backroung_window2/Parallax2D3"]
position = Vector2(-98.59451, 856.53735)
texture = ExtResource("50_cmqin")

[node name="Parallax2D4" type="Parallax2D" parent="blizzard/backroung_window2"]
scroll_scale = Vector2(0.8, 0.8)
scroll_offset = Vector2(571.52374, -84.70064)

[node name="1План" type="Sprite2D" parent="blizzard/backroung_window2/Parallax2D4"]
position = Vector2(-602.2335, 858.5847)
texture = ExtResource("51_rij7s")

[node name="backroung_window3" type="Parallax2D" parent="blizzard"]
scale = Vector2(0.5778595, 0.5778595)
scroll_offset = Vector2(1662, -113.00001)

[node name="Parallax2D" type="Parallax2D" parent="blizzard/backroung_window3"]
scroll_scale = Vector2(0.95, 0.95)
scroll_offset = Vector2(571.52374, -84.70064)

[node name="Небо" type="Sprite2D" parent="blizzard/backroung_window3/Parallax2D"]
position = Vector2(-90.00012, 909)
texture = ExtResource("48_4jcq5")

[node name="Месяц" type="Sprite2D" parent="blizzard/backroung_window3/Parallax2D"]
visible = false
material = SubResource("CanvasItemMaterial_2r6g7")
position = Vector2(-387.26553, 850.39545)
texture = ExtResource("47_vj8sx")

[node name="Parallax2D2" type="Parallax2D" parent="blizzard/backroung_window3"]
scroll_scale = Vector2(0.9, 0.9)
scroll_offset = Vector2(571.52374, -84.70064)

[node name="Облака" type="Sprite2D" parent="blizzard/backroung_window3/Parallax2D2"]
position = Vector2(-52.383057, 865.7503)
texture = ExtResource("49_wkwk4")

[node name="Parallax2D3" type="Parallax2D" parent="blizzard/backroung_window3"]
scroll_scale = Vector2(0.85, 0.85)
scroll_offset = Vector2(571.52374, -84.70064)

[node name="2План" type="Sprite2D" parent="blizzard/backroung_window3/Parallax2D3"]
position = Vector2(-336.08273, 846.3008)
texture = ExtResource("50_cmqin")

[node name="Parallax2D4" type="Parallax2D" parent="blizzard/backroung_window3"]
visible = false
scroll_scale = Vector2(0.8, 0.8)
scroll_offset = Vector2(571.52374, -84.70064)

[node name="1План" type="Sprite2D" parent="blizzard/backroung_window3/Parallax2D4"]
position = Vector2(-229.6227, 854.49)
texture = ExtResource("51_rij7s")

[node name="snow" type="GPUParticles2D" parent="blizzard"]
material = SubResource("CanvasItemMaterial_3mfa6")
position = Vector2(925, 201)
amount = 448
texture = SubResource("GradientTexture2D_vxgch")
lifetime = 2.6799999999999997
preprocess = 2.17
speed_scale = 0.28
randomness = 0.36
collision_base_size = 4.3
draw_order = 0
process_material = SubResource("ParticleProcessMaterial_4mwer")

[node name="snow2" type="GPUParticles2D" parent="blizzard"]
material = SubResource("CanvasItemMaterial_3mfa6")
position = Vector2(1750, 226)
amount = 448
texture = SubResource("GradientTexture2D_vxgch")
lifetime = 2.6799999999999997
preprocess = 2.17
speed_scale = 0.28
randomness = 0.36
collision_base_size = 4.3
draw_order = 0
process_material = SubResource("ParticleProcessMaterial_4mwer")

[node name="DirectionalLight2D" type="DirectionalLight2D" parent="."]
visible = false
light_mask = 2
color = Color(0.99215686, 0.8901961, 0.8666667, 1)
energy = 16.0
blend_mode = 1
shadow_color = Color(0, 0, 0.60784316, 0.70980394)
height = 0.06
max_distance = 6334.0

[node name="CanvasModulate" type="CanvasModulate" parent="."]
material = SubResource("ShaderMaterial_224lv")
color = Color(0.70778674, 0.80424225, 0.9833741, 1)

[node name="background_sprite" type="Sprite2D" parent="CanvasModulate"]
light_mask = 3
z_index = -10
texture = ExtResource("2_4hadc")
centered = false
metadata/_edit_lock_ = true

[node name="middleground_sprite" type="Sprite2D" parent="CanvasModulate"]
z_index = 5
position = Vector2(1349, 610)
texture = ExtResource("3_2qbig")

[node name="Menu" parent="." instance=ExtResource("5_ui2ab")]

[node name="player" parent="." groups=["player"] instance=ExtResource("2_0rrht")]
z_index = 8
position = Vector2(292, 659)
scale = Vector2(1, 1)
left_boundary = 150.0
right_boundary = 3000.0

[node name="Camera2D" type="Camera2D" parent="player"]
position = Vector2(688, -128)
limit_left = 0
limit_top = 0
limit_right = 2800
limit_bottom = 1080
limit_smoothed = true
position_smoothing_enabled = true
position_smoothing_speed = 2.53
drag_horizontal_offset = -0.6
drag_vertical_offset = -0.52
drag_left_margin = 0.86
drag_top_margin = 1.0
drag_right_margin = 1.0
drag_bottom_margin = 0.87
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="pickables" type="Node2D" parent="."]

[node name="firewood" parent="pickables" instance=ExtResource("8_t7v5p")]
z_index = 4
position = Vector2(1478, 163)
message_1 = "firewood_not_found"
message_2 = "firewood_found"

[node name="matches" parent="pickables" instance=ExtResource("7_0x7r7")]
z_index = 1
position = Vector2(830, 446)
message_1 = "matches_not_found"
message_2 = "matches_found"

[node name="key" parent="pickables" instance=ExtResource("9_t7v5p")]
z_index = 10
position = Vector2(2657, 822)
item_id = 6
message_1 = "key_not_found"
message_2 = "key_found"

[node name="zones" type="Node2D" parent="."]

[node name="fireplace" parent="zones" instance=ExtResource("6_4psif")]
z_index = -2
position = Vector2(540, 552)
scale = Vector2(0.555, 0.555)

[node name="lamp" parent="zones" instance=ExtResource("6_q1y3u")]
z_index = 9
position = Vector2(301, 823.00006)
texture_scale = 39.13
lamp_id = 1

[node name="candle" parent="zones" instance=ExtResource("11_p2pcn")]
z_index = 6
position = Vector2(1683.0001, 577)
texture_scale = 32.21
lamp_id = 4

[node name="lamp5" parent="zones" instance=ExtResource("6_q1y3u")]
z_index = 151
position = Vector2(1379, 448)
scale = Vector2(0.5, 0.5)
texture_scale = 41.3
lamp_id = 5

[node name="lamp2" parent="zones" instance=ExtResource("6_q1y3u")]
z_index = 3
position = Vector2(2276.0002, 520)
texture_scale = 29.32
lamp_id = 2

[node name="lamp3" parent="zones" instance=ExtResource("6_q1y3u")]
position = Vector2(715.00006, 341)
texture_scale = 27.69
lamp_id = 3

[node name="music_puzzle" parent="zones" instance=ExtResource("5_q1y3u")]
position = Vector2(2186, 364)
metadata/_edit_lock_ = true

[node name="Key_1" parent="zones/music_puzzle" node_paths=PackedStringArray("puzzle") instance=ExtResource("4_ui2ab")]
position = Vector2(-146, -8)
note_id = 1
puzzle = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="zones/music_puzzle/Key_1"]
position = Vector2(0.5, 9.5)
shape = SubResource("RectangleShape2D_0x7r7")
metadata/_edit_lock_ = true

[node name="Key_2" parent="zones/music_puzzle" node_paths=PackedStringArray("puzzle") instance=ExtResource("4_ui2ab")]
position = Vector2(-103, -4)
note_id = 2
puzzle = NodePath("..")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="zones/music_puzzle/Key_2"]
position = Vector2(-1.5, 0)
shape = SubResource("RectangleShape2D_t7v5p")
metadata/_edit_lock_ = true

[node name="Key_3" parent="zones/music_puzzle" node_paths=PackedStringArray("puzzle") instance=ExtResource("4_ui2ab")]
position = Vector2(-61, -7)
note_id = 3
puzzle = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="zones/music_puzzle/Key_3"]
position = Vector2(-1.5, -3)
shape = SubResource("RectangleShape2D_4psif")
metadata/_edit_lock_ = true

[node name="Key_4" parent="zones/music_puzzle" node_paths=PackedStringArray("puzzle") instance=ExtResource("4_ui2ab")]
position = Vector2(-21, -10)
note_id = 4
puzzle = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="zones/music_puzzle/Key_4"]
position = Vector2(-2, -6)
shape = SubResource("RectangleShape2D_pfbcd")
metadata/_edit_lock_ = true

[node name="Key_5" parent="zones/music_puzzle" node_paths=PackedStringArray("puzzle") instance=ExtResource("4_ui2ab")]
position = Vector2(18, -15)
note_id = 5
puzzle = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="zones/music_puzzle/Key_5"]
position = Vector2(-1, -6.5)
shape = SubResource("RectangleShape2D_3sdmp")
metadata/_edit_lock_ = true

[node name="Key_6" parent="zones/music_puzzle" node_paths=PackedStringArray("puzzle") instance=ExtResource("4_ui2ab")]
position = Vector2(57, -25)
note_id = 6
puzzle = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="zones/music_puzzle/Key_6"]
position = Vector2(0, -2.5)
shape = SubResource("RectangleShape2D_13psp")
metadata/_edit_lock_ = true

[node name="Key_7" parent="zones/music_puzzle" node_paths=PackedStringArray("puzzle") instance=ExtResource("4_ui2ab")]
position = Vector2(99, -28)
note_id = 7
puzzle = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="zones/music_puzzle/Key_7"]
position = Vector2(-0.5, -4.5)
shape = SubResource("RectangleShape2D_tex4q")
metadata/_edit_lock_ = true

[node name="Key_8" parent="zones/music_puzzle" node_paths=PackedStringArray("puzzle") instance=ExtResource("4_ui2ab")]
position = Vector2(141, -30)
note_id = 8
puzzle = NodePath("..")
metadata/_edit_lock_ = true

[node name="CollisionShape2D2" type="CollisionShape2D" parent="zones/music_puzzle/Key_8"]
position = Vector2(-2, -9)
shape = SubResource("RectangleShape2D_5qa6u")
metadata/_edit_lock_ = true

[node name="window" parent="zones" instance=ExtResource("18_4f2b1")]
position = Vector2(997.99994, 358)

[node name="lock" parent="zones" instance=ExtResource("12_3sdmp")]
z_index = -1
position = Vector2(1299, 787)
metadata/_edit_lock_ = true

[node name="cutscenes" type="Node" parent="."]
script = ExtResource("1_ql6yw")

[node name="begin_cutscene" type="Node" parent="cutscenes"]

[node name="TextureRect" type="TextureRect" parent="cutscenes/begin_cutscene"]
offset_left = 109.0
offset_top = -398.0
offset_right = 1941.0
offset_bottom = 1028.0
mouse_filter = 2
texture = SubResource("GradientTexture2D_c5ku6")

[node name="narrative" type="Control" parent="cutscenes/begin_cutscene"]
z_index = 20
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
metadata/_edit_lock_ = true

[node name="RichTextLabel" type="RichTextLabel" parent="cutscenes/begin_cutscene/narrative" node_paths=PackedStringArray("next_button")]
z_index = -2
material = SubResource("ShaderMaterial_ql6yw")
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -699.0
offset_top = 22.0
offset_right = 741.0
offset_bottom = 207.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme_override_fonts/normal_font = ExtResource("14_5qa6u")
theme_override_font_sizes/normal_font_size = 31
bbcode_enabled = true
text = "[center]...Once there was a gnome who lost his way in a winter forest. He wandered and wandered, and when he had nearly given up all hope, he stumbled upon a tower. It stood dark and silent, cold and unwelcoming. But in such a blizzard, any roof is better than none — or so the gnome thought as he stepped inside.
[/center]"
autowrap_mode = 2
horizontal_alignment = 1
visible_characters_behavior = 3
text_direction = 1
script = ExtResource("15_5qa6u")
next_button = NodePath("../Button")
fade_duration = 6.619
fade_start_offset = -2.525
fade_length = 120
metadata/_edit_lock_ = true

[node name="Button" type="Button" parent="cutscenes/begin_cutscene/narrative"]
material = SubResource("CanvasItemMaterial_4f2b1")
layout_mode = 0
offset_left = 805.0
offset_top = 652.0
offset_right = 1194.0
offset_bottom = 951.0
theme_override_colors/font_color = Color(0.875, 0.875, 0.875, 1)
theme_override_fonts/font = ExtResource("14_5qa6u")
theme_override_font_sizes/font_size = 81
theme_override_styles/normal = SubResource("StyleBoxEmpty_c5ku6")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_1nbgv")
theme_override_styles/hover = SubResource("StyleBoxEmpty_u3x7i")
theme_override_styles/focus = SubResource("StyleBoxEmpty_4f2b1")
text = "Start"

[node name="AnimationPlayer" type="AnimationPlayer" parent="cutscenes/begin_cutscene"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_vxgch")
}

[node name="CanvasLayer" type="CanvasLayer" parent="cutscenes"]

[node name="ending_cutscene" type="Node" parent="cutscenes/CanvasLayer"]
script = ExtResource("18_13oey")

[node name="narrative2" type="Control" parent="cutscenes/CanvasLayer/ending_cutscene"]
z_index = 20
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 1078.0
offset_bottom = 1078.0166
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="RichTextLabel" type="RichTextLabel" parent="cutscenes/CanvasLayer/ending_cutscene/narrative2"]
z_index = -2
material = SubResource("ShaderMaterial_ql6yw")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme_override_fonts/normal_font = ExtResource("14_5qa6u")
theme_override_font_sizes/normal_font_size = 31
bbcode_enabled = true
text = "LUMINA'S LAST STAND

Directed by Alistair Thorne

Written by Elara Vance

Lead Artist Julian Frost

Lead Animator Silas Grey

Technical Director Marcus Sterling

Music by Amara Lyra

Sound Design Victor Low

Voice Cast The Wanderer - Elias Kael The Shadow - Morgana Blackwood The Spirit - Sarah Bright

Special Thanks The Midnight Coffee Society Professor Barnaby And all our supporters

(C) 2026 NOIR LIGHT STUDIOS"
autowrap_mode = 2
horizontal_alignment = 1
visible_characters_behavior = 3
text_direction = 1
script = ExtResource("15_5qa6u")
fade_duration = 8.595
fade_length = 120
metadata/_edit_lock_ = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="cutscenes/CanvasLayer/ending_cutscene"]
root_node = NodePath("../../..")
libraries = {
&"": SubResource("AnimationLibrary_gv4x6")
}

[node name="Images" type="Node2D" parent="cutscenes/CanvasLayer/ending_cutscene"]
visible = false

[node name="8" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
position = Vector2(956.67004, 543.5081)
scale = Vector2(0.92721295, 0.92721295)
texture = ExtResource("28_4f2b1")

[node name="7" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
position = Vector2(956.67004, 543.5081)
scale = Vector2(0.92721295, 0.92721295)
texture = ExtResource("29_c5ku6")

[node name="6" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
position = Vector2(956.67004, 543.5081)
scale = Vector2(0.92721295, 0.92721295)
texture = ExtResource("30_1nbgv")

[node name="5" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
position = Vector2(956.67004, 543.5081)
scale = Vector2(0.92721295, 0.92721295)
texture = ExtResource("31_u3x7i")

[node name="4" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
position = Vector2(956.67004, 543.5081)
scale = Vector2(0.92721295, 0.92721295)
texture = ExtResource("32_yohhn")

[node name="TextureRect" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
position = Vector2(958.99994, 584)
texture = ExtResource("26_c5ku6")

[node name="TextureRect2" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
visible = false
position = Vector2(980, 565)
texture = ExtResource("27_1nbgv")

[node name="TextureRect3" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
visible = false
position = Vector2(971, 541)
texture = ExtResource("28_u3x7i")

[node name="3" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
position = Vector2(956.67004, 543.5081)
scale = Vector2(0.92721295, 0.92721295)
texture = ExtResource("33_e6cir")

[node name="2" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
position = Vector2(956.67004, 543.5081)
scale = Vector2(0.92721295, 0.92721295)
texture = ExtResource("34_6da8u")

[node name="9" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
position = Vector2(956.67004, 543.5081)
scale = Vector2(0.92721295, 0.92721295)
texture = ExtResource("34_6da8u")

[node name="1" type="Sprite2D" parent="cutscenes/CanvasLayer/ending_cutscene/Images"]
position = Vector2(956.67004, 543.5081)
scale = Vector2(0.92721295, 0.92721295)
texture = ExtResource("35_kbi6t")

[node name="ColorRect" type="ColorRect" parent="cutscenes/CanvasLayer/ending_cutscene"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 0)

[node name="ladder_cutscene" type="Node" parent="cutscenes"]
script = ExtResource("23_8sm3x")

[node name="AnimationPlayer" type="AnimationPlayer" parent="cutscenes/ladder_cutscene"]
libraries = {
&"": SubResource("AnimationLibrary_8sm3x")
}

[node name="Sprite2D" type="Sprite2D" parent="cutscenes/ladder_cutscene"]
visible = false
z_index = 4
position = Vector2(1471, 480.00003)
scale = Vector2(0.815, 0.815)
texture = ExtResource("23_35dfi")

[node name="girlanda" type="Node2D" parent="cutscenes"]
position = Vector2(1413, 520)

[node name="Parallax2D" type="Parallax2D" parent="cutscenes/girlanda"]
scroll_scale = Vector2(1.115, 1.115)

[node name="ГирляндаВыкл" type="Sprite2D" parent="cutscenes/girlanda/Parallax2D"]
position = Vector2(53.569946, 0)
scale = Vector2(1.0219512, 1)
texture = ExtResource("28_wgf40")

[node name="ГирляндаСвет" type="Sprite2D" parent="cutscenes/girlanda/Parallax2D"]
visible = false
self_modulate = Color(1, 1, 1, 0.4206093)
material = SubResource("CanvasItemMaterial_e6cir")
position = Vector2(53.569946, 0)
scale = Vector2(1.022, 1)
texture = ExtResource("29_q8148")

[node name="ДопГирлянда" type="Node2D" parent="cutscenes/girlanda"]
material = SubResource("CanvasItemMaterial_1nbgv")
position = Vector2(-1413, -520)

[node name="ДобГирляндаВыкл" type="Sprite2D" parent="cutscenes/girlanda/ДопГирлянда"]
position = Vector2(1365, 346)
texture = ExtResource("42_u3x7i")

[node name="ДопГирляндаСвет" type="Sprite2D" parent="cutscenes/girlanda/ДопГирлянда"]
modulate = Color(1, 1, 1, 0)
material = SubResource("CanvasItemMaterial_6da8u")
position = Vector2(1365, 346)
texture = ExtResource("43_yohhn")

[node name="Node2D" type="Node2D" parent="cutscenes/girlanda"]
position = Vector2(-1116, -422)
scale = Vector2(11.609375, 11.25)

[node name="red" type="PointLight2D" parent="cutscenes/girlanda/Node2D"]
position = Vector2(214.9125, 56.444443)
color = Color(0.5647059, 0.1882353, 0.21568628, 1)
energy = 0.0
texture = SubResource("GradientTexture2D_qn3wp")
texture_scale = 2.58

[node name="red2" type="PointLight2D" parent="cutscenes/girlanda/Node2D"]
position = Vector2(80.96905, 1.6888895)
color = Color(0.5647059, 0.1882353, 0.21568628, 1)
energy = 0.0
texture = SubResource("GradientTexture2D_qn3wp")
texture_scale = 2.58

[node name="green" type="PointLight2D" parent="cutscenes/girlanda/Node2D"]
position = Vector2(205.60968, 1.6888895)
color = Color(0.26666668, 0.5254902, 0.42352942, 1)
energy = 0.0
texture = SubResource("GradientTexture2D_qn3wp")
texture_scale = 2.58

[node name="green2" type="PointLight2D" parent="cutscenes/girlanda/Node2D"]
position = Vector2(51.76851, -0.62222195)
color = Color(0.26666668, 0.5254902, 0.42352942, 1)
energy = 0.0
texture = SubResource("GradientTexture2D_qn3wp")
texture_scale = 2.58

[node name="yelow" type="PointLight2D" parent="cutscenes/girlanda/Node2D"]
position = Vector2(159.87079, 4.2666674)
color = Color(0.78431374, 0.6156863, 0.33333334, 1)
energy = 0.0
texture = SubResource("GradientTexture2D_qn3wp")
texture_scale = 2.58

[node name="yelow2" type="PointLight2D" parent="cutscenes/girlanda/Node2D"]
position = Vector2(33.33513, -5.1555557)
color = Color(0.78431374, 0.6156863, 0.33333334, 1)
energy = 0.0
texture = SubResource("GradientTexture2D_qn3wp")
texture_scale = 2.58

[node name="violet" type="PointLight2D" parent="cutscenes/girlanda/Node2D"]
position = Vector2(113.52894, -0.5333328)
color = Color(0.33536002, 0.2816, 0.64, 1)
energy = 0.0
texture = SubResource("GradientTexture2D_qn3wp")
texture_scale = 1.98

[node name="violet2" type="PointLight2D" parent="cutscenes/girlanda/Node2D"]
color = Color(0.27468798, 0.22514561, 0.53548783, 1)
energy = 0.0
range_item_cull_mask = 2
texture = SubResource("GradientTexture2D_qn3wp")
texture_scale = 1.98

[node name="AnimationPlayer" type="AnimationPlayer" parent="cutscenes/girlanda"]
libraries = {
&"": SubResource("AnimationLibrary_3mfa6")
}
speed_scale = 0.3
script = ExtResource("44_yohhn")

[node name="SnowManager" type="Node" parent="."]
script = ExtResource("27_8pgdl")
melt_time = 2.0

[node name="Snow_0" type="Sprite2D" parent="SnowManager" groups=["snow"]]
position = Vector2(524, 277)
texture = ExtResource("31_8pgdl")
script = ExtResource("29_qoveh")

[node name="Snow_1" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = -1
position = Vector2(784, 333)
texture = ExtResource("32_qoveh")
script = ExtResource("29_qoveh")
snow_id = 1

[node name="Snow_2" type="Sprite2D" parent="SnowManager" groups=["snow"]]
position = Vector2(790, 418)
texture = ExtResource("33_wgf40")
script = ExtResource("29_qoveh")
snow_id = 2

[node name="Snow_3" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 5
position = Vector2(805, 564)
texture = ExtResource("34_q8148")
script = ExtResource("29_qoveh")
snow_id = 3

[node name="Snow_4" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 10
position = Vector2(312, 894)
texture = ExtResource("40_wkwk4")
script = ExtResource("29_qoveh")
snow_id = 4

[node name="Snow_5" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 7
position = Vector2(435, 664)
texture = ExtResource("30_kqe1q")
script = ExtResource("29_qoveh")
snow_id = 5

[node name="Snow_6" type="Sprite2D" parent="SnowManager" groups=["snow"]]
position = Vector2(852, 638)
texture = ExtResource("30_kqe1q")
script = ExtResource("29_qoveh")
snow_id = 6

[node name="Snow_7" type="Sprite2D" parent="SnowManager" groups=["snow"]]
position = Vector2(1040, 660)
texture = ExtResource("35_vrlke")
script = ExtResource("29_qoveh")
snow_id = 7

[node name="Snow_8" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 6
position = Vector2(1145, 799)
texture = ExtResource("35_vrlke")
flip_h = true
script = ExtResource("29_qoveh")
snow_id = 8

[node name="Snow_9" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 6
position = Vector2(718, 760)
texture = ExtResource("27_44426")
script = ExtResource("29_qoveh")
snow_id = 9

[node name="Snow_10" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 2
position = Vector2(1410, 640)
texture = ExtResource("30_kqe1q")
script = ExtResource("29_qoveh")
snow_id = 10

[node name="Snow_11" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 3
position = Vector2(1501, 170)
texture = ExtResource("38_vj8sx")
script = ExtResource("29_qoveh")
snow_id = 11

[node name="Snow_12" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 3
position = Vector2(1487, 264)
texture = ExtResource("40_wkwk4")
script = ExtResource("29_qoveh")
snow_id = 12

[node name="Snow_13" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 3
position = Vector2(1504, 354)
texture = ExtResource("39_4jcq5")
flip_h = true
script = ExtResource("29_qoveh")
snow_id = 13

[node name="Snow_14" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 3
position = Vector2(1510, 453)
texture = ExtResource("39_4jcq5")
flip_h = true
script = ExtResource("29_qoveh")
snow_id = 14

[node name="Snow_15" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 3
position = Vector2(1523, 649)
texture = ExtResource("31_8pgdl")
script = ExtResource("29_qoveh")
snow_id = 15

[node name="Snow_16" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 6
position = Vector2(1865, 591)
texture = ExtResource("37_qn3wp")
script = ExtResource("29_qoveh")
snow_id = 16

[node name="Snow_17" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 6
position = Vector2(1730, 778)
texture = ExtResource("31_8pgdl")
script = ExtResource("29_qoveh")
snow_id = 17

[node name="Snow_18" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 4
position = Vector2(2001, 649)
texture = ExtResource("38_vj8sx")
script = ExtResource("29_qoveh")
snow_id = 18

[node name="Snow_19" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 6
position = Vector2(2132, 724)
texture = ExtResource("30_kqe1q")
script = ExtResource("29_qoveh")
snow_id = 19

[node name="Snow_20" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 4
position = Vector2(2169, 259)
texture = ExtResource("37_qn3wp")
script = ExtResource("29_qoveh")
snow_id = 20

[node name="Snow_21" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 3
position = Vector2(2191, 361)
texture = ExtResource("27_muj0h")
script = ExtResource("29_qoveh")
snow_id = 21

[node name="Snow_22" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 4
position = Vector2(2322, 632)
texture = ExtResource("30_kqe1q")
script = ExtResource("29_qoveh")
snow_id = 22

[node name="Snow_23" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 6
position = Vector2(2433, 675)
texture = ExtResource("36_nr8hd")
script = ExtResource("29_qoveh")
snow_id = 23

[node name="Snow_24" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 8
position = Vector2(2625, 862)
texture = ExtResource("41_cmqin")
script = ExtResource("29_qoveh")
snow_id = 24

[node name="Snow_25" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 3
position = Vector2(2600, 479)
texture = ExtResource("28_mjvsw")
script = ExtResource("29_qoveh")
snow_id = 25

[node name="Snow_26" type="Sprite2D" parent="SnowManager" groups=["snow"]]
z_index = 3
position = Vector2(1377, 339.75)
texture = ExtResource("61_e6cir")
script = ExtResource("29_qoveh")
snow_id = 26

[connection signal="OnWinningTheGame" from="zones/music_puzzle" to="cutscenes" method="_on_music_puzzle_on_winning_the_game"]
[connection signal="OnWinningTheGame" from="zones/music_puzzle" to="cutscenes/CanvasLayer/ending_cutscene" method="_on_music_puzzle_on_winning_the_game"]
[connection signal="button_down" from="cutscenes/begin_cutscene/narrative/Button" to="cutscenes/begin_cutscene/narrative/RichTextLabel" method="_on_button_button_down"]
